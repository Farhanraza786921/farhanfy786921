"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[232],{40132:(e,t,s)=>{s.d(t,{_:()=>T,e:()=>F});var a=s(96651),i=s(65856),r=s(49232),n=s(1804),l=s(14788),o=s(33508),c=s(71916),u=s(7300),d=s(71464),p=s(46656),m=s(56316),h=s(32144),y=s(94231),v=s(23652),g=s(75904),x=s(7296),j=s(92280),f=s(39244),b=s(17556),C=s(41436),k=s(81604),R=s(53048),S=s(5256),A=s(40636),w=s(84340),I=s(57148),E=s(15700),_=s(15040),N=s(2488);function T(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const P=e=>`activation-trigger-mme-${e}`,F=a.memo((function(e){var t,s,F,U,L;let{index:q=-1,showMetadata:M,episode:D,usePlayContextItem:O,status:B,variant:H}=e;const V=(0,E.m)(),W=D.playedState.playPositionMilliseconds,Q=D.uri,G=(0,a.useRef)(null),[K,z]=(0,a.useState)(D.playedState.state===w.QF.Completed),X=(0,g.C)(),Y=(0,j.A)(),$=(0,R.oV)(),J=(0,x.w)(),Z=(0,i.OY)(),{UBIFragment:ee,spec:te,logger:se}=(0,A.gp)(n.createDesktopEpisodeBlockEventFactory,{data:{uri:Q,reason:D.requestId||"",position:q}}),ae=(0,A.K2)(te),{isActive:ie,isPlaying:re,togglePlay:ne}=O({uri:Q}),[le]=(0,S.e)(1e4,(e=>{var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===Q}));(0,a.useEffect)((()=>{re&&(G.current=le)}),[re,le]),(0,a.useEffect)((()=>{!re&&G.current&&D.duration.milliseconds<=G.current&&z(!0)}),[re,D.duration.milliseconds]);const oe=(0,a.useCallback)((e=>{e||(G.current=0),z(e)}),[]),ce=e=>{if(e.target!==e.currentTarget)return;const t=`${D.name} â€¢ ${M.name}`;X(e,{itemUris:[Q],dragLabelText:t,contextUri:M.uri})},ue=T(M),de=(0,f.e)({...D,coverArt:{sources:D.coverArt}},ue),pe=(0,a.useCallback)((()=>{if(D.episodeType===w.sF.Episode&&V)y.F.set((()=>({triggerId:P(D.uri),triggerAction:null})));else if(Y)de();else{let e;e=re?te.playButtonFactory().hitPause({itemToBePaused:Q}):ie?te.playButtonFactory().hitResume({itemToBeResumed:Q}):te.playButtonFactory().hitPlay({itemToBePlayed:Q});const t=se.logInteraction(e);J({targetUri:Q,intent:re?"pause":"play",type:"click"}),ne({loggingParams:t})}}),[ie,de,J,ne,Q,re,Y,D,V,se,te]),me=(0,a.useCallback)((()=>{se.logInteraction(te.hitUiNavigate({destination:Q})),J({type:"click",targetUri:Q,intent:"navigate"})}),[Q,J,se,te]),he=(null===(t=D.podcastSubscription)||void 0===t?void 0:t.isPaywalled)??!1,ye=(null===(s=D.podcastSubscription)||void 0===s?void 0:s.isUserSubscribed)??!1,ve=he&&!ye,ge=he&&Y,{badges:xe}=(0,I.C)({contentRating:null===(F=D.contentRating)||void 0===F?void 0:F.label,isPaywalled:he}),je=(0,a.useCallback)((()=>Z((0,o.AP)(M.uri))),[M.uri,Z]),fe=(0,a.useCallback)((e=>{let t=e;return(ve||ge)&&(t=(0,N.jsx)(h.i,{enabled:!0,showUri:M.uri,children:t})),!D.playability.playable&&xe.nineteen&&(t=(0,N.jsx)("div",{onClick:e=>{e.stopPropagation(),je()},children:e})),t=(0,N.jsx)(c.s,{id:P(Q),targetURI:(0,l.nX)(Q),children:t}),t}),[Q,ve,ge,M.uri,xe.nineteen,D.playability.playable,je]),be=(0,r.IP)(_.iK$,{loadingValue:!1});return(0,N.jsx)(ee,{spec:te,children:(0,N.jsx)(k.oL,{value:"row",index:q,children:(0,N.jsx)(u.U,{onShow:()=>{se.logInteraction(te.secondaryHitUiReveal())},menu:(0,N.jsx)(d.y,{uri:Q,showUri:M.uri,sharingInfo:D.sharingInfo,isPlayed:K,onMarkAsPlayed:oe}),children:be?(0,N.jsx)(m.E,{ref:ae,requestId:D.requestId,index:q,uri:Q,size:$,images:D.coverArt||[],name:D.name,showName:M.name,description:D.description,isPlayable:D.playability.playable||ve,fullyPlayed:K,durationMs:D.duration.milliseconds,releaseDate:(null===(U=D.releaseDate)||void 0===U?void 0:U.isoString)||"",resumePositionMs:G.current??W,handleDragStart:ce,handlePlaybackClick:pe,handleClick:me,isCurrentlyPlaying:ie,isPaywalled:he,isUserSubscribed:ye,isPlaying:re,position:re?le:void 0,episodeSharingInfo:D.sharingInfo,onMarkAsPlayed:oe,contentInformation:D.contentInformation,showUri:M.uri,mediaTypes:D.mediaTypes??void 0,badges:(0,N.jsxs)(N.Fragment,{children:[xe.explicit&&(0,N.jsx)(b.C,{}),xe.paid&&(0,N.jsx)(v.a,{}),xe.nineteen&&(0,N.jsx)(C.o,{size:16})]}),playButtonWrapper:fe,onMoreButtonClick:()=>{se.logInteraction(te.moreButtonFactory().hitUiReveal())},status:B,variant:H}):(0,N.jsx)(p.k,{ref:ae,requestId:D.requestId,index:q,uri:Q,size:$,images:D.coverArt||[],name:D.name,showName:M.name,description:D.description,isPlayable:D.playability.playable||ve,fullyPlayed:K,durationMs:D.duration.milliseconds,releaseDate:(null===(L=D.releaseDate)||void 0===L?void 0:L.isoString)||"",resumePositionMs:G.current??W,handleDragStart:ce,handlePlaybackClick:pe,handleClick:me,isCurrentlyPlaying:ie,isPaywalled:he,isUserSubscribed:ye,isPlaying:re,position:re?le:void 0,episodeSharingInfo:D.sharingInfo,onMarkAsPlayed:oe,contentInformation:D.contentInformation,badges:(0,N.jsxs)(N.Fragment,{children:[xe.explicit&&(0,N.jsx)(b.C,{}),xe.paid&&(0,N.jsx)(v.a,{}),xe.nineteen&&(0,N.jsx)(C.o,{size:16})]}),playButtonWrapper:fe,onMoreButtonClick:()=>{se.logInteraction(te.moreButtonFactory().hitUiReveal())},showUri:M.uri,mediaTypes:D.mediaTypes??void 0,status:B,variant:H})})})})}))},87348:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Si});s(73952),s(97768);var a=s(96651),i=s(10124),r=s.n(i),n=s(65856),l=s(33220),o=s(55780),c=s.n(o),u=s(49232),d=s(31024),p=s(12100),m=s(57800),h=s(97244),y=s(46250),v=s(40636),g=(s(41260),s(90496)),x=s(90776),j=s(81604),f=s(34872),b=s(2488);const C=()=>{const{searchHistory:e,clearSearchHistory:t}=(0,f.y)();return 0===e.length?null:(0,b.jsx)(g.c,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:p._s.get("search.title.recent-searches"),children:e.map(((e,s)=>(0,b.jsx)(j.oL,{index:s,value:"search-history",children:(0,b.jsx)(x.w,{entity:e,index:s,clearSearchHistory:t})},e.uri)))})},k="CCi1L2OQvgdZvxkRHeKE",R=()=>{const{spec:e,UBIFragment:t}=(0,v.gp)(h.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:s,browseAllSpec:i}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,b.jsxs)("div",{className:k,children:[(0,b.jsx)(t,{spec:s,children:(0,b.jsx)(C,{})}),(0,b.jsx)(y.C,{browseAllSpec:i})]})};var S=s(5244),A=s(58068),w=s(16632),I=s(11732);s(10216);const E=(0,a.createContext)(null),_=E.Provider;function N(){const e=(0,a.useContext)(E);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var T=s(15040),P=s(1464);const F="fVB_YDdnaDlztX7CcWTA",U="e179_Eg8r7Ub6yjjxctr",L="VIeVCUUETJyYPCDpsBif",q="ZWI7JsjzJaR_G8Hy4W6J",M=e=>{let{to:t,title:s,selected:a,onClick:i}=e;return(0,b.jsx)(I.default,{replace:!0,to:t,tabIndex:-1,onClick:i,className:q,children:(0,b.jsx)(S.a,{selected:a,selectedColorSet:"invertedLight",tabIndex:-1,children:s})})},D=e=>{let{searchCategories:t,selectedCategory:s,displayChips:a}=e;const i=(0,u.IP)(T.OMw),{query:n}=N(),{spec:l,logger:o}=(0,v.gp)(A.createDesktopSearchChipsEventFactory,{});if(!n||!a)return null;const c=encodeURIComponent(n);return(0,b.jsx)("div",{className:F,children:(0,b.jsx)("div",{className:r()(U,"contentSpacing"),children:(0,b.jsx)("div",{className:L,children:(0,b.jsxs)(w.E,{children:[!i&&t.length>0&&(0,b.jsx)(M,{to:`spotify:app:search:${c}`,title:p._s.get("search.title.all"),selected:void 0===s,onClick:()=>{o.logInteraction(l.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${c}`}))}},"all"),t.map(((e,t)=>{var a;const i=(null===(a=P.cd[e])||void 0===a?void 0:a.call(P.cd))??"";return(0,b.jsx)(M,{to:`spotify:app:search:${c}:${e}`,title:i,selected:s===e,onClick:()=>{o.logInteraction(l.chipFactory({identifier:e,position:t+1}).hitUiNavigate({destination:`spotify:app:search:${c}:${e}`}))}},e)}))]})})})})};s(78260),s(99400),s(58032),s(78924),s(99696),s(63120),s(72248),s(1384),s(41256);var O=s(77624),B=s(71940),H=s(10156),V=s(84340),W=s(43619),Q=s(51160);const G={[V.Q3.Podcasts]:["podcasts","podcastAndEpisodes"],[V.Q3.Episodes]:["episodes","podcastAndEpisodes"],[V.Q3.TopResults]:["topResults","topResults"],[V.Q3.Artists]:["artists","artists"],[V.Q3.Albums]:["albums","albums"],[V.Q3.Playlists]:["playlists","playlists"],[V.Q3.Tracks]:["tracks","tracks"],[V.Q3.Audiobooks]:["audiobooks","audiobooks"],[V.Q3.Genres]:["genres","genres"],[V.Q3.Users]:["users","users"]};var K=s(13932),z=s(41660),X=s(84264),Y=s(66514),$=s(8802);const J={albums:d.eA.SEARCH_ALBUMS,artists:d.eA.SEARCH_ARTISTS,episodes:d.eA.SEARCH_EPISODES,genres:d.eA.SEARCH_GENRES,playlists:d.eA.SEARCH_PLAYLISTS,podcasts:d.eA.SEARCH_SHOWS,audiobooks:d.eA.SEARCH_AUDIOBOOKS,tracks:d.eA.SEARCH_SONGS,users:d.eA.SEARCH_PROFILES,podcastAndEpisodes:d.eA.SEARCH_PODCASTS_AND_EPISODES,topResults:d.eA.SEARCH};function Z(e){let{children:t}=e;const{query:s="",category:a=""}=(0,l.W4)();return(0,b.jsx)($.I,{pageId:J[a],entityUri:`spotify:app:search:${s}:${a}`,children:t})}function ee(e){let{children:t}=e;const{query:s}=(0,l.W4)();return(0,b.jsx)($.I,{pageId:d.eA.SEARCH,entityUri:`spotify:app:search:${s}`,children:t})}var te=s(90312),se=s(71704),ae=s(14788),ie=s(33584),re=s(72199),ne=s(8004),le=s(31168),oe=s(36416);const ce="hngqMWKjlLOEcuxpoHz9",ue="WjLSNZPxuT0Zuw42kxSM",de="zFOvsuNQpwehjH2VoiLL",pe="zeGt0Z2HCYRvd6ziu_t9",me=e=>{let{forChip:t}=e;const{query:s,serpId:a}=N(),i=!(0,K.O)(),r=`/search/${s}`,n=(0,ae.oj)(s).toURI(),{spec:l,logger:o}=(0,v.gp)(oe.createDesktopSearchEmptyResultsEventFactory,{data:{uri:n,reason:a}}),c=(0,v.K2)(l);return(0,b.jsxs)("div",{className:ce,"aria-live":"polite",ref:c,children:[(0,b.jsx)(ne.a,{as:"h1",variant:"titleSmall",className:ue,children:t?p._s.get("search.empty-results-title-for-chip",s,t):p._s.get("search.empty-results-title",s)}),(0,b.jsx)("p",{className:de,children:i?p._s.get("web-player.search-modal.offline"):p._s.get("search.empty-results-text")}),t&&(0,b.jsx)(re.cH,{to:r,children:(0,b.jsx)(le.g,{colorSet:"invertedLight",className:pe,onClick:()=>{o.logInteraction(l.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:p._s.get("search.see-all")})})]})};var he=s(10952);const ye={results:null,isError:!1,isFetchMoreError:!1},ve=(e,t)=>{const s=(0,he.E)(),i=(0,a.useRef)(null),r=(0,a.useRef)(0),[n,l]=(0,a.useState)(ye),o=(0,a.useCallback)((async function(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!s())return;a&&(r.current=0,i.current=null);let n=e;if(null!==i.current){if(r.current>=i.current)return;r.current+n>i.current&&(n=i.current-r.current)}try{const e=await t(r.current,n);r.current+=n,i.current=e.totalCount||0,s()&&l((t=>({isError:!1,isFetchMoreError:!1,results:(a||null===t.results?[]:t.results).concat(e.items)})))}catch(o){s()&&l((e=>{const t=null===e.results||a;return{results:a?[]:e.results,isError:t,isFetchMoreError:!t}}))}}),[e,t,s]);return(0,a.useEffect)((()=>{o(!0)}),[o]),{results:n.results,isError:n.isError,fetchData:o,totalCountRef:i}};var ge=s(52276),xe=s(6672),je=s(25676),fe=s(43520),be=s(3844),Ce=s(7296);const ke=a.memo((function(e){let{uri:t,size:s=fe.o.md,className:i,onClick:r,showUpsell:n}=e;const[l,o]=(0,be.X)(t),c=(0,Ce.w)(),u=(0,a.useCallback)((()=>{c({targetUri:t,intent:"add-to-library",type:"click"}),o(!0)}),[c,t,o]);return(0,b.jsx)(fe.W,{className:i,isFollowing:l,onFollow:u,onClick:r,uri:t,size:s,showUpsell:n})})),Re="RTP39YFgFAoVSlly6vCF",Se="QT1jLaHHvO5g2YQor2Fw",Ae="wArYyZVjFviopRvRFV8t",we="kRDD8AcqeOf5UDjOSQ8j",Ie="XN4TCZATPrKkEMngUtFc",Ee="VYaCpehPPhmTYPRxMBub",_e="abMqJCpsuShBo0DaZ7IY",Ne="ON88h0KYGqXMdOfsqot8",Te="BHFMWOZUKxElyq1Ffc_S",Pe="EyH4QLenIbFw0x8r83eK",Fe="JA9jP30dm3GJikfs7vBn",Ue="xKl_2100SG4svBvzZ8Xv",Le="leel3U31UlOaYhKp6FgQ",qe="FxqpfDsISPKNu1XFExOg",Me="kE234isNxJ9XiTT8QoJL",De="KcOp4A5HBQ4EPH0IDRxg",Oe="oODk_3Glvh7wotUlk4ov";var Be=s(83968);const He=e=>{let{uri:t,spec:s}=e;const i=(0,v.Mk)(),r=(0,a.useCallback)(((e,a)=>{(0,Be.cN)(a,s.downloadButtonFactory(),i,t)}),[i,s,t]);return(0,b.jsx)(ke,{className:we,uri:t,size:fe.o.xs,showUpsell:!1,onClick:r})};var Ve=s(46522),We=s(44616);const Qe=e=>{let{shape:t=Ve.O.ROUNDED_CORNERS,type:s,name:a,images:i}=e;return(0,b.jsx)(Ve.i,{shape:t,size:We.fm.SIZE_64,images:i,type:s,title:a})};var Ge=s(48856),Ke=s(87832);const ze=(0,a.createContext)((()=>{})),Xe=e=>{let{menu:t,name:s,spec:i}=e;const r=(0,v.Mk)(),n=(0,a.useContext)(ze),l=(0,a.useCallback)((()=>{r.logInteraction(i.contextButtonFactory().hitUiReveal()),n(!0)}),[r,n,i]),o=(0,a.useCallback)((()=>{n(!1)}),[n]);return(0,b.jsx)(Ke.pD,{menu:t,onShow:l,onHide:o,children:(0,b.jsx)(Ge.g,{className:Ie,size:Ge.o.sm,label:p._s.get("more.label.context",s)})})};var Ye=s(85988);const $e=e=>{let{name:t,uri:s,spec:i}=e;const r=(0,v.Mk)(),n=(0,a.useCallback)((()=>{r.logInteraction(i.titleLinkFactory({uri:s}).hitUiNavigate({destination:s}))}),[r,i,s]);return(0,b.jsx)(Ye.Yl,{label:t,showDelay:Ye.AL,children:(0,b.jsx)(I.default,{to:s,className:Te,onClick:n,children:(0,b.jsx)(ne.a,{variant:"bodyMediumBold",semanticColor:"textBase",className:Pe,children:t})})})};var Je=s(94192),Ze=s(18648),et=s(88840),tt=s(76172),st=s(60016),at=s(52588);const it=a.forwardRef((function(e,t){let{children:s,isLocked:a=!1,uri:i,playAriaLabel:n,spec:l}=e;const o=(0,v.Mk)(),{isPlaying:c,isActive:u,togglePlay:d}=(0,at.I)({uri:i},{featureIdentifier:"search"}),p=(0,Ze.yK)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),a)o.logInteraction(l.playbackButtonFactory().hitShowPaywall({paywalledItem:i}));else{const e=(0,Be.Il)({isPlaying:c,isActive:u,spec:l.playbackButtonFactory(),logger:o,uri:i});d({loggingParams:e})}}),st.cT,{leading:!0,trailing:!1});return(0,b.jsxs)("div",{className:r()(Fe),children:[c?(0,b.jsx)(tt.W,{className:_e,animated:!0}):s,(0,b.jsx)(et.a,{className:Ee,iconClassName:De,onClick:p,isPlaying:c,isLocked:a,playAriaLabel:n,ref:t})]})}));var rt=s(53048);const nt="kwJGggri7IZMFvQEClUf",lt="yt0QcQy0t7LfbeVaEJG_",ot="WHMDRepGVQXXrTx3838g",ct="wLoqasagmgNF8ULGMhil",ut="cpC_03FZN3i93V8j3g0l",dt="S7CXd4i9huhWL_kPV_e3",pt="c85eTWJAYaGjCiwH1WDu",mt="cTTgGuDbNSWllHjVqiUx",ht=e=>{let{className:t,leading:s,media:a,pretitle:i,title:n,subtitle:l,body:o,footer:c,trailing:u,onContextMenu:d,onTouchStart:p,onTouchEnd:m,onDragStart:h,onDoubleClick:y}=e;const v=(0,rt.oV)();return(0,b.jsxs)("div",{className:r()(t,nt),onContextMenu:d,onTouchStart:p,onTouchEnd:m,draggable:!0,onDragStart:h,onDoubleClick:y,children:[s?(0,b.jsx)("div",{className:lt,children:s}):null,a?(0,b.jsx)("div",{className:ot,children:a}):null,(0,b.jsxs)("div",{className:ct,children:[i?(0,b.jsx)("div",{children:i}):null,n?(0,b.jsx)("div",{className:pt,children:n}):null,l?(0,b.jsx)("div",{className:mt,children:l}):null,o?(0,b.jsx)("div",{children:o}):null,c?(0,b.jsx)("div",{children:c}):null]}),u?(0,b.jsx)("div",{className:r()(ut,{[dt]:v===rt.u_.MEDIUM}),children:u}):null]})};s(97296);var yt=s(75904);const vt=e=>void 0!==e;const gt=e=>{let{uri:t,destinationUri:s=t,name:i,createdBy:n,menu:l,media:o,leading:c,title:u,subtitle:d,body:p,trailing:m,onClick:h,spec:y}=e;const{isActive:g}=(0,Je.kP)(t),x=(0,v.Mk)(),j=(0,a.useCallback)((()=>{x.logInteraction(y.secondaryHitUiReveal())}),[x,y]),f=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(x.logInteraction(y.hitUiNavigate({destination:s})),h(e))}),[x,h,y,s]),C=function(e,t){if(e!==t)return`?highlight=${e}`}(t,s),k=(0,v.K2)(y),R=((e,t,s)=>{const i=(0,yt.C)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const r=[t,s].filter(vt).join(" â€¢ ");i(a,{itemUris:[e],dragLabelText:r})}),[i,s,t,e])})(t,i,n),[S,A]=(0,a.useState)(!1);return(0,b.jsx)(ze.Provider,{value:A,children:(0,b.jsx)(Ke.UF,{menu:l,onShow:j,children:(0,b.jsx)(I.default,{to:s,search:C,tabIndex:-1,onClick:f,className:Re,"data-context-menu-open":S.toString(),ref:k,children:(0,b.jsx)(ht,{leading:c||!0,title:u,subtitle:d,body:p,trailing:m,media:o,className:r()(Se,{[Ne]:g}),onDragStart:R})})})})};s(76376);var xt=s(5260),jt=s(97336);const ft=e=>{let{uri:t,type:s,spec:i}=e;const r=(0,v.Mk)(),n=(0,a.useCallback)((e=>{const s=e?i.heartButtonFactory().hitLike({itemToBeLiked:t}):i.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:t});r.logInteraction(s)}),[i,r,t]);return["episode","audiobook"].includes(s)?(0,b.jsx)(xt.Q,{uri:t,className:Ae,onClick:n}):(0,b.jsx)(jt.s,{uri:t,className:Ae,onClick:n})};var bt=s(7300),Ct=s(33744),kt=s(81472),Rt=s(46003),St=s(4284);const At=e=>{let{children:t,uri:s,name:i,index:r,menu:n,spec:l}=e;const o=(0,yt.C)({itemUris:[s],dragLabelText:i}),c=(0,v.Mk)(),u=(0,a.useCallback)((()=>{const e=l.subtitleLinkFactory({uri:s,position:r}).hitUiNavigate({destination:s});c.logInteraction(e)}),[r,c,l,s]);return(0,b.jsx)(bt.U,{menu:n,children:(0,b.jsx)("span",{children:(0,b.jsx)(Ye.Yl,{label:i,showDelay:Ye.AL,children:(0,b.jsx)(I.default,{draggable:!0,to:s,onDragStart:o,dir:"auto",onClick:u,children:t})})})})},wt=e=>{let{artists:t,spec:s}=e;return t?(0,b.jsx)(b.Fragment,{children:t.map(((e,t)=>{let{uri:a,name:i}=e;return[t>0&&p._s.getSeparator(),(0,b.jsx)(At,{name:i,uri:a,index:t,menu:(0,b.jsx)(Ct.g,{uri:a}),spec:s,children:i},a)]}))}):null},It=e=>{let{topics:t=[],spec:s}=e;return 0===t.length?null:(0,b.jsx)(b.Fragment,{children:t.filter(St.U).map(((e,t)=>{let{uri:a,title:i}=e;return[t>0&&p._s.getSeparator(),(0,b.jsx)(At,{name:i,uri:a,index:t,spec:s,children:i},a)]}))})},Et=e=>{let{show:t,spec:s}=e;return(0,b.jsx)(At,{name:t.name,uri:t.uri,index:0,menu:(0,b.jsx)(kt.Q,{uri:t.uri}),spec:s,children:t.name})},_t=e=>{let{uri:t,name:s,spec:a}=e;return(0,b.jsx)(At,{name:s,uri:t,index:0,menu:(0,b.jsx)(Rt.Y,{uri:t}),spec:a,children:s})},Nt=a.memo((function(e){let{album:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c,year:u,artists:d}=t,m=d[0].name,{spec:h}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),{isPlaying:y}=(0,Je.kP)(n),g=(0,b.jsx)(je.k,{uri:n});return(0,b.jsx)(gt,{spec:h,menu:g,uri:n,name:o,createdBy:d.map((e=>e.name)).join(p._s.getSeparator()),onClick:s,media:(0,b.jsx)(Qe,{type:l,name:o,images:c}),leading:(0,b.jsx)(it,{isLocked:!1,uri:n,spec:h,playAriaLabel:y?p._s.get("pause"):p._s.get("tracklist.a11y.play",o,m)}),title:(0,b.jsx)($e,{name:o,uri:n,spec:h}),subtitle:(0,b.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[i&&(0,b.jsx)(ne.a,{className:Me,children:p._s.get("card.tag.album")}),(0,b.jsx)(ne.a,{className:Me,children:(0,b.jsx)(wt,{artists:d,spec:h})})]}),body:(0,b.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",children:u}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(He,{uri:n,spec:h}),(0,b.jsx)(ft,{uri:n,type:"album",spec:h}),(0,b.jsx)(Xe,{menu:g,name:o,spec:h})]})})}));var Tt=s(74968);const Pt=a.memo((function(e){let{artist:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c,verified:u}=t,{spec:d}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),{isPlaying:m}=(0,Je.kP)(n),h=(0,b.jsx)(Ct.g,{uri:n});return(0,b.jsx)(gt,{spec:d,menu:h,uri:n,name:o,onClick:s,media:(0,b.jsx)(Qe,{type:l,name:o,images:c}),leading:(0,b.jsx)(it,{isLocked:!1,uri:n,spec:d,playAriaLabel:m?p._s.get("playlist.a11y.play",o):p._s.get("pause")}),title:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)($e,{name:o,uri:n,spec:d}),u&&(0,b.jsx)(Tt.c,{iconSize:"small"})]}),subtitle:i&&(0,b.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",children:p._s.get("card.tag.artist")}),trailing:(0,b.jsx)(Xe,{menu:h,name:o,spec:d})})}));var Ft=s(65076),Ut=s(89060);const Lt=a.memo((function(e){let{book:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c,authorName:u,publishDate:d,topics:m}=t,{spec:h}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),y=(0,b.jsx)(Ft.y,{uri:n}),g=m&&m.length>0;return(0,b.jsx)(gt,{spec:h,menu:y,uri:n,name:o,onClick:s,media:(0,b.jsx)(Qe,{type:l,name:o,images:c}),title:(0,b.jsx)($e,{name:o,uri:n,spec:h}),subtitle:(0,b.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[i&&(0,b.jsx)(ne.a,{className:Me,children:p._s.get("search.row.subtitle")}),(0,b.jsx)(Ye.Yl,{label:u,showDelay:Ye.AL,children:(0,b.jsx)(ne.a,{className:Me,children:u})})]}),body:(0,b.jsxs)(b.Fragment,{children:[d&&(0,b.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:(0,Ut.qw)((0,Ut._z)(d.toISOString()))}),g&&(0,b.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:(0,b.jsx)(It,{topics:m,spec:h})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ft,{uri:n,type:"audiobook",spec:h}),(0,b.jsx)(Xe,{menu:y,name:o,spec:h})]})})}));var qt=s(21824),Mt=s(6948),Dt=s(71464),Ot=s(17556),Bt=s(41436),Ht=s(43092),Vt=s(15640),Wt=s(51008);const Qt=a.memo((function(e){let{episode:t,onClick:s,index:i,withEntityTag:n=!1}=e;const{requestId:l,uri:o,type:c,name:u,images:d,show:m,release:h,duration:y,isExplicit:g,is19PlusOnly:x,timeLeft:j,mediaType:f}=t,{logger:C,spec:k}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:i,reason:l??"",uri:o}}),{isPlaying:R}=(0,Je.kP)(o),S=(0,a.useCallback)(((e,t)=>{(0,Be.cN)(t,k.downloadButtonFactory(),C,o)}),[C,k,o]),A=(0,b.jsx)(Dt.y,{uri:o}),w=(null==f?void 0:f.includes(Vt.i.Video))??!1,I=!(t.podcastSubscription.isPaywalled&&!t.podcastSubscription.isUserSubscribed);return(0,b.jsx)(gt,{spec:k,menu:A,uri:o,name:u,createdBy:(null==m?void 0:m.name)||void 0,onClick:s,media:(0,b.jsx)(Qe,{type:c,name:u,images:d}),leading:(0,b.jsx)(it,{isLocked:!1,uri:o,spec:k,playAriaLabel:R?p._s.get("pause"):m?p._s.get("tracklist.a11y.play",u,m.publisher):p._s.get("playlist.a11y.play",u)}),title:(0,b.jsx)($e,{name:u,uri:o,spec:k}),subtitle:(0,b.jsxs)(b.Fragment,{children:[w&&(0,b.jsx)(Wt.o,{}),g&&(0,b.jsx)(Ot.C,{}),x&&(0,b.jsx)(Bt.o,{size:16}),(0,b.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[n&&(0,b.jsx)(ne.a,{children:p._s.get("card.tag.episode")}),m&&(0,b.jsx)(ne.a,{className:Me,children:(0,b.jsx)(Et,{show:m,spec:k})})]})]}),body:(0,b.jsxs)(b.Fragment,{children:[h.date&&(0,b.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:(0,Ut.qw)((0,Ut._z)(h.date))}),(0,b.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:r()(Me,Ue),children:j.milliseconds>0?(0,b.jsx)(Ht._,{durationMs:y.milliseconds}):(0,b.jsxs)(ne.a,{className:Le,children:[p._s.get("episode.played"),(0,b.jsx)(qt.k,{size:"small",className:qe,"aria-hidden":"true"})]})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Mt.g,{className:we,uri:o,size:Mt.o.xs,showUpsell:!1,onClick:S,canDownload:I}),(0,b.jsx)(ft,{uri:o,type:"episode",spec:k}),(0,b.jsx)(Xe,{menu:A,name:u,spec:k})]})})}));var Gt=s(57100);const Kt=a.memo((function(e){let{genre:t,onClick:s,index:a}=e;const{requestId:i,uri:r,type:n,name:l,images:o}=t,{spec:c}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:i??"",uri:r}});return(0,b.jsx)(gt,{spec:c,menu:(0,b.jsx)(Gt.Y,{uri:r}),uri:r,name:l,onClick:s,media:(0,b.jsx)(Qe,{type:n,name:l,images:o}),title:(0,b.jsx)($e,{name:l,uri:r,spec:c})})}));var zt=s(30540);const Xt=a.memo((function(e){let{playlist:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c,owner:u}=t,{spec:d}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),{isPlaying:m}=(0,Je.kP)(n),h=u.displayName?p._s.get("tracklist.a11y.play",o,u.displayName):p._s.get("play"),y=(0,b.jsx)(zt.E,{uri:n});return(0,b.jsx)(gt,{spec:d,menu:y,uri:n,name:o,createdBy:u.displayName??void 0,onClick:s,media:(0,b.jsx)(Qe,{type:l,name:o,images:c}),leading:(0,b.jsx)(it,{isLocked:!1,uri:n,spec:d,playAriaLabel:m?p._s.get("pause"):h}),title:(0,b.jsx)($e,{name:o,uri:n,spec:d}),subtitle:(0,b.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[i&&(0,b.jsx)(ne.a,{className:Me,children:p._s.get("card.tag.playlist")}),u.displayName&&(0,b.jsx)(ne.a,{className:Me,children:(0,b.jsx)(_t,{uri:u.uri,name:p._s.get("search.playlist-by",u.displayName),spec:d})})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(He,{uri:n,spec:d}),(0,b.jsx)(ft,{uri:n,type:"playlist",spec:d}),(0,b.jsx)(Xe,{menu:y,name:o,spec:d})]})})})),Yt=a.memo((function(e){let{show:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:n,uri:l,type:o,name:c,images:u,publisher:d,topics:m}=t,{spec:h}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:n??"",uri:l}}),y=(0,b.jsx)(kt.Q,{uri:l});return(0,b.jsx)(gt,{spec:h,menu:y,uri:l,name:c,onClick:s,media:(0,b.jsx)(Qe,{type:o,name:c,images:u}),title:(0,b.jsx)($e,{name:c,uri:l,spec:h}),subtitle:(0,b.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",children:[(0,b.jsxs)("div",{children:[i&&(0,b.jsx)(ne.a,{className:Me,children:p._s.get("card.tag.show")}),(0,b.jsx)(ne.a,{className:r()(Me),children:d})]}),(0,b.jsx)("div",{children:(0,b.jsx)(ne.a,{className:r()(Me,Oe),children:(0,b.jsx)(It,{topics:m,spec:h})})})]}),trailing:(0,b.jsx)(Xe,{menu:y,name:c,spec:h})})}));var $t=s(56684);const Jt=a.memo((function(e){let{track:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,artists:c,album:u,isExplicit:d,is19PlusOnly:m}=t,h=c[0].name,{spec:y}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),{isPlaying:g}=(0,Je.kP)(n),x=(0,b.jsx)($t.k,{uri:n});return(0,b.jsx)(gt,{spec:y,uri:n,destinationUri:(null==u?void 0:u.uri)||void 0,menu:x,name:o,createdBy:c.map((e=>e.name)).join(p._s.getSeparator()),onClick:s,media:(0,b.jsx)(Qe,{type:l,name:o,images:(null==u?void 0:u.images)||[]}),leading:(0,b.jsx)(it,{isLocked:!1,uri:n,spec:y,playAriaLabel:g?p._s.get("pause"):p._s.get("tracklist.a11y.play",o,h)}),title:(0,b.jsx)($e,{name:o,uri:n,spec:y}),subtitle:(0,b.jsxs)(b.Fragment,{children:[d&&(0,b.jsx)(Ot.C,{}),m&&(0,b.jsx)(Bt.o,{size:16}),(0,b.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[i&&(0,b.jsx)(ne.a,{children:p._s.get("card.tag.track")}),(0,b.jsx)(ne.a,{className:Me,children:(0,b.jsx)(wt,{artists:c,spec:y})})]})]}),trailing:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ft,{uri:n,type:"track",spec:y}),(0,b.jsx)(Xe,{menu:x,name:o,spec:y})]})})})),Zt=a.memo((function(e){let{user:t,onClick:s,index:a,withEntityTag:i=!1}=e;const{requestId:r,uri:n,type:l,name:o,images:c}=t,{spec:u}=(0,v.gp)(xe.createDesktopSearchRowEventFactory,{data:{position:a,reason:r??"",uri:n}}),d=(0,b.jsx)(Rt.Y,{uri:n});return(0,b.jsx)(gt,{spec:u,menu:d,uri:n,name:o,onClick:s,media:(0,b.jsx)(Qe,{type:l,name:o,images:c,shape:Ve.O.CIRCLE}),title:(0,b.jsx)($e,{name:o,uri:n,spec:u}),subtitle:i&&(0,b.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",children:p._s.get("card.tag.profile")}),trailing:(0,b.jsx)(Xe,{menu:d,name:o,spec:u})})})),es=e=>{let{entity:t,index:s,withEntityTag:i}=e;const{onAddToHistory:r}=N(),n=(0,a.useCallback)((()=>{r(t)}),[t,r]);switch(t.type){case W.s.ALBUM:return(0,b.jsx)(Nt,{album:t,onClick:n,index:s,withEntityTag:i});case W.s.ARTIST:return(0,b.jsx)(Pt,{artist:t,onClick:n,index:s,withEntityTag:i});case W.s.AUDIOBOOK:return(0,b.jsx)(Lt,{book:t,onClick:n,index:s,withEntityTag:i});case W.s.EPISODE:return(0,b.jsx)(Qt,{episode:t,onClick:n,index:s,withEntityTag:i});case W.s.GENRE:return(0,b.jsx)(Kt,{genre:t,onClick:n,index:s});case W.s.PLAYLIST:return(0,b.jsx)(Xt,{playlist:t,onClick:n,index:s,withEntityTag:i});case W.s.USER:return(0,b.jsx)(Zt,{user:t,onClick:n,index:s,withEntityTag:i});case W.s.SHOW:return(0,b.jsx)(Yt,{show:t,onClick:n,index:s,withEntityTag:i});case W.s.TRACK:return(0,b.jsx)(Jt,{track:t,onClick:n,index:s,withEntityTag:i});case W.s.PRE_RELEASE:return null;default:return(0,ge.I)(t),null}};var ts=s(26144),ss=s(40132);const as="FSAE0ABtUCeNRJckpcCH",is="H2PDjUgJNBIH5eWg59M0",rs="vRlEuZATPhZt2l04RVIw",ns="Adlh7XTc3j3pXM3jGgr8",ls=e=>{let{index:t,item:s}=e;const{episode:a,show:i}=s,{usePlayContextItem:r}=(0,at.I)({uri:s.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,b.jsxs)("div",{className:ns,children:[(0,b.jsx)(ss.e,{index:t,episode:{...a,requestId:s.requestId},showMetadata:i,usePlayContextItem:r}),(0,b.jsx)("hr",{className:rs,"aria-hidden":!0})]})},os=e=>{let{showTitle:t=!0,displayEmptyPageOnEmptyResults:s=!0,displayError:a=!0,enableInfiniteScroll:i=!1,fetchData:n,totalCountRef:l,items:o,isError:c,isSearchV3Enabled:u}=e;const{query:d,serpId:p}=N(),m=(0,ae.oj)(d).toURI(),{ref:h,breakpoint:y}=(0,rt.CA)({[rt.u_.MEDIUM]:0,[rt.u_.LARGE]:600}),g=(0,v.Mk)(),x=`spotify:app:search:${encodeURIComponent(d)}:${qs}`,{spec:j,UBIFragment:f}=(0,v.gp)(se.u,{data:{uri:m,reason:p}});return c?a?(0,b.jsx)(te._,{}):null:0===l.current?s?(0,b.jsx)(f,{spec:j.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:P.cd.episodes()})}):null:(0,b.jsxs)(rt.yM.Provider,{value:y,children:[o&&t&&(0,b.jsx)(ie.q,{title:P.cd.episodes(),seeAllUri:x,onClickTitle:()=>{j&&g.logInteraction(j.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:x}))},onClickSeeAll:()=>{j&&g.logInteraction(j.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:x}))},hasMoreElements:!i&&o.length<(l.current||0)}),(0,b.jsx)("div",{ref:h,className:is,children:o&&(0,b.jsx)(ts.A,{triggerOnInitialLoad:!1,className:r()({[as]:u}),onReachBottom:()=>{i&&n()},children:o})})]})},cs=e=>{const{query:t,api:s}=N(),{results:i,isError:r,fetchData:n,totalCountRef:l}=ve(30,(0,a.useCallback)(((e,a)=>s.getFullEpisodes(t,e,a)),[s,t]));return(0,b.jsx)(os,{...e,fetchData:n,totalCountRef:l,items:null==i?void 0:i.map(((e,t)=>(0,b.jsx)(ls,{item:e,index:t},t))),isError:r})},us=e=>{const{query:t,api:s}=N(),{results:i,isError:r,fetchData:n,totalCountRef:l}=ve(30,(0,a.useCallback)(((e,a)=>s.getSearchCategoryResults(t,"episodes",!1,e,a)),[s,t]));return(0,b.jsx)(os,{...e,fetchData:n,totalCountRef:l,items:null==i?void 0:i.map(((e,t)=>(0,b.jsx)(es,{entity:e,index:t},t))),isError:r,isSearchV3Enabled:!0})},ds=e=>(0,u.IP)(T.OMw)?(0,b.jsx)(us,{...e}):(0,b.jsx)(cs,{...e});var ps=s(53728);const ms=e=>{const{title:t,category:s,query:a,results:i,onAddToHistory:r,position:n,showSeeAll:l}=e;if(!i)return null;const{items:o,totalCount:c}=i;return o&&0!==o.length?(0,b.jsx)(g.c,{index:n,id:s,total:c||0,title:t,testId:`${s}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${s}`,showSeeAll:l,children:o.map(((e,t)=>(0,b.jsx)(j.oL,{value:s,index:t,children:(0,b.jsx)(ps.s,{onClick:()=>r(e),entity:e,index:t})},e.uri)))}):null},hs="pE9ccpPiPFWfTWfDdKT_",ys=e=>{let{results:t}=e;const{query:s,serpId:a,onAddToHistory:i}=N(),r=(0,ae.oj)(s).toURI(),{spec:n,UBIFragment:l}=(0,v.gp)(se.u,{data:{uri:r,reason:a}});return 0===(null==t?void 0:t.podcasts.totalCount)&&0===(null==t?void 0:t.episodes.totalCount)?(0,b.jsx)(l,{spec:n.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:P.cd.podcastAndEpisodes()})}):(0,b.jsx)(l,{spec:n,children:(0,b.jsxs)("div",{className:hs,children:[0!==(null==t?void 0:t.podcasts.totalCount)&&(0,b.jsx)("div",{children:(0,b.jsx)(ms,{position:0,category:"podcasts",title:P.cd.podcastAndEpisodes(),query:s,results:null==t?void 0:t.podcasts,onAddToHistory:i})}),0!==(null==t?void 0:t.episodes.totalCount)&&(0,b.jsx)("div",{children:(0,b.jsx)(ds,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var vs=s(50737),gs=s(25620),xs=s(26208);const js="bCoyoXohuLs0f6urF2PD",fs="EF2m35WFubo6yUwP04MQ",bs=e=>{let{displayChips:t,category:s}=e;const{query:i,api:n,serpId:l,onAddToHistory:o}=N(),{results:c,isError:d,fetchData:p,totalCountRef:m}=ve(30,(0,a.useCallback)(((e,t)=>n.getSearchCategoryResults(i,s,!0,e,t)),[n,s,i])),h=(0,a.useCallback)(((e,t)=>(0,b.jsx)(j.oL,{value:"card",index:t,children:(0,b.jsx)(ps.s,{entity:e,onClick:()=>o(e),testId:`search-category-card-${t}`,index:t})},`${e.uri}-${t}`)),[o]),y=(0,ae.oj)(i).toURI(),{spec:g,UBIFragment:x}=(0,v.gp)(vs.W,{data:{uri:y,identifier:s,reason:l}}),f=(0,a.useMemo)((()=>g.cardsFactory()),[g]),C=(0,a.useMemo)((()=>g.emptyResultsFactory()),[g]),k=(0,u.IP)(T.M1F)?(0,xs._B)(xs.AZ.ENCORE_CARDS):(0,xs._B)(xs.AZ.DEFAULT);return d?(0,b.jsx)(te._,{}):0===m.current?(0,b.jsx)(x,{spec:C,children:(0,b.jsx)(me,{forChip:P.cd[s]()})}):(0,b.jsx)(x,{spec:f,children:(0,b.jsx)("div",{className:r()(js,{[fs]:t}),children:c&&(0,b.jsx)(ts.A,{onReachBottom:p,triggerOnInitialLoad:!1,children:(0,b.jsx)(gs.E,{config:k,children:(0,b.jsx)(z.C,{render:()=>c.map(((e,t)=>h(e,t)))})})})})})};var Cs=s(45504),ks=s(77808),Rs=s(39188),Ss=s(40068),As=s(33912),ws=s(45208);const Is="BSIos9yETsaI3yKEqX2P",Es=100,_s=e=>{let{pageSize:t=Es}=e;if(t>100)throw new Error(`PathFinder does not support page sizes > ${Es}`);const s=(0,ws.u)(),{query:i,api:r,serpId:n}=N(),{results:l,isError:o,fetchData:c,totalCountRef:u}=ve(t,(0,a.useCallback)(((e,t)=>r.getSearchCategoryResults(i,"tracks",!1,e,t)),[r,i])),d=(0,a.useCallback)(((e,t)=>{var s;const a=(0,Ss.C)(null===(s=e.album)||void 0===s?void 0:s.images,{desiredSize:40});return(0,b.jsx)(As.rl,{index:t,uri:(0,Rs.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:(null==a?void 0:a.url)||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},t+e.uri)}),[]),m=(0,a.useMemo)((()=>[As.yw.INDEX,As.yw.TITLE_AND_ARTIST,As.yw.ALBUM,As.yw.DURATION]),[]),h=(0,a.useCallback)((e=>({uri:e.uri})),[]),y=(0,ae.oj)(i).toURI(),{spec:g,UBIFragment:x}=(0,v.gp)(Cs.i,{data:{uri:y,reason:n}}),f=(0,a.useMemo)((()=>g.tracksFactory()),[g]),C=p._s.get("search.showing-category-query-songs",i);if(o)return(0,b.jsx)(te._,{});if(0===u.current)return(0,b.jsx)(x,{spec:g.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:P.cd.podcastAndEpisodes()})});const k=s?48:ks.QJ+48;return(0,b.jsx)(x,{spec:f,children:(0,b.jsx)(j.oL,{value:"search-results-tracklist",children:(0,b.jsx)("div",{className:Is,children:l&&(0,b.jsx)(ts.A,{triggerOnInitialLoad:!1,onReachBottom:c,children:(0,b.jsx)(As.aE,{ariaLabel:C,hasHeaderRow:!0,columns:m,renderRow:d,resolveItem:h,nrTracks:l.length,headerTop:k,tracks:l,columnPersistenceKey:"search-results-tracklist"},i)})})})})},Ns="hciep85bysUuJqNoK7uw",Ts="Xa3KEcm2U_GOL2KMSoHw",Ps="KjXzXFYQr6Wp2QlxPUAY",Fs=e=>{let{category:t}=e;const{query:s,api:i,serpId:n}=N(),{results:l,isError:o,fetchData:c,totalCountRef:u}=ve(50,(0,a.useCallback)(((e,a)=>i.getSearchCategoryResults(s,t,!0,e,a)),[i,t,s])),d=(0,ae.oj)(s).toURI(),{spec:p,UBIFragment:m}=(0,v.gp)(vs.W,{data:{uri:d,identifier:t,reason:n}}),{ref:h,breakpoint:y}=(0,rt.CA)({[rt.u_.MEDIUM]:0,[rt.u_.LARGE]:600}),g=(0,a.useMemo)((()=>p.cardsFactory()),[p]);if(o)return(0,b.jsx)(te._,{});if(0===u.current)return(0,b.jsx)(m,{spec:p.emptyResultsFactory(),children:(0,b.jsx)(me,{forChip:P.cd[t]()})});const x="episodes"===t||"podcasts"===t,j="topResults"===t;return(0,b.jsx)(m,{spec:g,children:(0,b.jsx)(rt.yM.Provider,{value:y,children:(0,b.jsx)("div",{ref:h,className:r()(Ns,{[Ps]:x}),children:l&&(0,b.jsx)(ts.A,{onReachBottom:c,triggerOnInitialLoad:!1,className:Ts,children:l.map(((e,t)=>(0,b.jsx)(es,{entity:e,index:t,withEntityTag:j},e.uri)))})})})})},Us=e=>{let{results:t,hasResults:s}=e;const{query:i,serpId:r}=N(),n=(0,ae.oj)(i).toURI(),{spec:l,UBIFragment:o}=(0,v.gp)(vs.W,{data:{uri:n,identifier:"topResults",reason:r}}),{ref:c,breakpoint:u}=(0,rt.CA)({[rt.u_.MEDIUM]:0,[rt.u_.LARGE]:600}),d=(0,a.useMemo)((()=>l.cardsFactory()),[l]);return t&&s||l.emptyResultsFactory(),(0,b.jsx)(o,{spec:d,children:(0,b.jsx)(rt.yM.Provider,{value:u,children:(0,b.jsx)("div",{ref:c,className:Ns,children:t&&(0,b.jsx)(ts.A,{triggerOnInitialLoad:!1,className:Ts,children:t.topResults.items.map(((e,t)=>(0,b.jsx)(es,{entity:e,index:t,withEntityTag:!0},e.uri)))})})})})},Ls="podcastAndEpisodes",qs="episodes",Ms=e=>{let{results:t,hasResults:s,displayChips:a}=e;const{category:i}=N(),r=(0,u.IP)(T.OMw);return i?i===Ls?(0,b.jsx)(ys,{results:t}):r?"topResults"===i?(0,b.jsx)(Us,{results:t,hasResults:s}):(0,b.jsx)(Fs,{category:i}):"tracks"===i?(0,b.jsx)(_s,{}):i===qs?(0,b.jsx)(ds,{enableInfiniteScroll:!0,showTitle:!1}):(0,b.jsx)(bs,{displayChips:a,category:i}):(0,b.jsx)(te._,{})};var Ds=s(68384),Os=s(19424),Bs=s(58703);const Hs=a.memo((function(e){let{tracks:t,query:s}=e;const i=(0,u.IP)(T.Wwy),r=(0,a.useCallback)(((e,t)=>{var s;const a=(0,Ss.C)(null===(s=e.album)||void 0===s?void 0:s.images,{desiredSize:40});return(0,b.jsx)(As.sh,{uri:(0,Rs.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:t,imgUrl:(null==a?void 0:a.url)||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo&&i},e.uri)}),[i]),n=(0,a.useMemo)((()=>[As.yw.TITLE_AND_ARTIST,As.yw.DURATION]),[]),l=(0,a.useCallback)((e=>({uri:e.uri})),[]);return t&&(0,b.jsx)(j.oL,{value:"search-results-tracklist",children:(0,b.jsx)(As.aE,{ariaLabel:p._s.get("search.a11y.songs-search-results"),renderRow:r,rowPlaceholder:As.gl,nrTracks:Math.min(t.length,4),tracks:t,resolveItem:l,columns:n},s)})}),((e,t)=>e.tracks===t.tracks));var Vs=s(13408);const Ws="rP1oFnzzvss0GV6VPgGG",Qs="XQakH0M0GDc6g6JKeyds",Gs="PW9eULMYYH14XQgoJ0ui",Ks="VL6wjp4Br_D3FEWrUGGR",zs="QVIrLvegL13F9cEdMqfT",Xs="Lj3brgOJmjcq6MQ22XKq",Ys=e=>{let{tracks:t,query:s,className:i,showSeeAll:n=!0,spec:l}=e;const o=(0,v.Mk)(),c=(0,a.useCallback)((()=>(0,b.jsx)("div",{className:Xs,children:(0,b.jsx)(a.Suspense,{fallback:null,children:(0,b.jsx)(Hs,{tracks:t.items,query:s})})})),[s,t]),u=`spotify:app:search:${encodeURIComponent(s)}:tracks`,d=(0,a.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:u});o.logInteraction(e)}),[o,l,u]),m=(0,a.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:u});o.logInteraction(e)}),[o,l,u]);return t.items.length?(0,b.jsxs)("section",{className:r()(zs,i),"aria-label":p._s.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,b.jsx)("div",{className:Ws,children:t.items.length>3?(0,b.jsxs)("div",{className:Qs,children:[(0,b.jsx)("div",{className:Gs,children:(0,b.jsx)(ne.a,{as:"h2",variant:"titleSmall",children:n?(0,b.jsx)(I.Link,{to:u,className:Ks,onClick:d,children:p._s.get("search.title.tracks")}):(0,b.jsx)("span",{className:Ks,children:p._s.get("search.title.tracks")})})}),n&&(0,b.jsx)(Vs.SeeAll,{link:u,onClick:m})]}):(0,b.jsx)(ne.a,{as:"h2",variant:"titleSmall",className:Ks,children:p._s.get("search.title.tracks")})}),(0,b.jsx)(v.Ud,{spec:l,children:(0,b.jsx)(z.C,{render:c})})]}):null},$s=e=>{let{topRecommendations:t,query:s,className:a,onAddToHistory:i,position:r,showSeeAll:n}=e;const l=t.totalCount||0;return(0,b.jsx)(g.c,{index:r,id:"top-recommendations",className:a,total:l,title:p._s.get("artist-page.featuring",t.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(s)}:topRecommendations`,showSeeAll:n,children:t.items.map(((e,t)=>(0,b.jsx)(j.oL,{index:t,value:"top-recommendations",children:(0,b.jsx)(ps.s,{onClick:()=>i(e),entity:e,index:t})},e.uri)))})};var Js=s(49968);const Zs="iGyMsGo7FgYQQThBj2y9",ea="eITFAR9yPwhjL_2gxB09",ta="nGARy02O1AklvHT7OBLA",sa="EFHPppToKFxfm6SRhL6K",aa="EbZrO5qZMclA_AaI3NV8",ia="rjgEnbv42_EUDbaiZnA2",ra="FTRmZyHUkeVY_X3RawUc",na="Tx_CKMgRE8CpW5vLdpAe",la=e=>{let{topResults:t,onAddToHistory:s}=e;const[a]=t.items;return a&&(0,b.jsx)(Js.y,{total:1,className:Zs,title:p._s.get("search.title.top-result"),removeOffsetMargin:!0,children:[(0,b.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:ea,children:(0,b.jsx)(j.oL,{value:"top-result-card",children:(0,b.jsx)(ps.s,{isHero:!0,index:0,onClick:()=>s(a),entity:a})})},"top-result-item")]})},oa=e=>{let{results:t}=e;const{query:s,onAddToHistory:i,serpId:r}=N(),n=(0,ae.oj)(s).toURI(),{spec:l,UBIFragment:o}=(0,v.gp)(Bs.W,{data:{uri:n,reason:r}}),c=t.topResults.items.length>0,u=t.tracks.items.length>0,d=t.topRecommendations.items.length>0,p=(0,a.useMemo)((()=>({topResult:l.topResultFactory(),trackList:l.trackListFactory(),shelves:l.shelvesFactory()})),[l]);return(0,b.jsx)(z.C,{className:ta,rowGap:Os.Q9,testId:"search-results",render:e=>{let a,r,{columnCount:n}=e;return c?a=n>3?aa:ia:d&&(n>5&&u?(a=sa,r=ra):(a=ia,r=na)),(0,b.jsxs)(j.oL,{value:"search-results",children:[c&&(0,b.jsx)(o,{spec:p.topResult,children:(0,b.jsx)(la,{topResults:t.topResults,onAddToHistory:i})}),u&&(0,b.jsx)(Ys,{spec:p.trackList,className:a,query:s,tracks:t.tracks,onAddToHistory:i,showSeeAll:!1}),d&&(0,b.jsx)(o,{spec:p.shelves,children:(0,b.jsx)($s,{position:0,query:s,className:r,topRecommendations:t.topRecommendations,onAddToHistory:i,showSeeAll:!1})}),P.sn.map(((e,a)=>(0,b.jsx)(o,{spec:p.shelves,children:(0,b.jsx)(ms,{position:a+1,category:e,title:P.cd[e](),query:s,results:t[e],onAddToHistory:i,showSeeAll:!1})},`search-shelf-${e}`)))]})}})},ca=e=>{let{results:t,hasResults:s,category:a="topResults"}=e;const i=(0,u.IP)(T.OMw),{category:r,query:n,serpId:l}=N(),o=(0,ae.oj)(n).toURI(),c=!(0,K.O)(),{spec:d,UBIFragment:p}=(0,v.gp)(Bs.W,{data:{uri:o,reason:l}});return c?(0,b.jsx)(me,{}):t?t&&!s?(0,b.jsx)(p,{spec:d.emptyResultsFactory(),children:(0,b.jsx)(me,{})}):i&&!r?a===Ls?(0,b.jsx)(ys,{results:t}):(0,b.jsx)(Us,{results:t,hasResults:s}):(0,b.jsx)(oa,{results:t}):null};var ua=s(864),da=s(43052),pa=s(92280),ma=s(10484),ha=s(99640);const ya=(e,t)=>{const s="object"==typeof(null==e?void 0:e.requestIds)?null==e?void 0:e.requestIds:void 0,a=null==s?void 0:s[t],i="object"==typeof a?a:void 0;return"string"==typeof(null==i?void 0:i["search-api"])?null==i?void 0:i["search-api"]:void 0},va=e=>ya(e,"/searchV2"),ga=e=>ya(e,"/searchV2/topResults");var xa=s(88272);s(99972);const ja=new xa.a("searchFullEpisodes","query","22e377f7b7c40e7ee0aa57dcb6d27120e524bb7dc14271101abed22aded60f8e",null);var fa=s(10572),ba=s(96768),Ca=s(69664),ka=s(59476),Ra=s(88168);function Sa(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}const Aa={type:W.s.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:Ra.v.UNKNOWN};function wa(e,t){return{items:Ia((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Ia(e,t){return e.map((e=>Ea(e,t))).filter(ba.g)}function Ea(e,t){var s,a,i,r,n;if("Episode"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const l=e.data,o=l.podcastV2.data;let c=Aa;var u,d;"Podcast"===o.__typename&&(c={type:W.s.SHOW,uri:o.uri,name:o.name,publisher:(null===(u=o.publisher)||void 0===u?void 0:u.name)||"",mediaType:(0,ka.cT)(o.mediaType),images:Sa((null===(d=o.coverArt)||void 0===d?void 0:d.sources)||[])});return{type:W.s.EPISODE,name:l.name,images:Sa((null===(a=l.coverArt)||void 0===a?void 0:a.sources)||[]),uri:l.uri,duration:{milliseconds:l.duration.totalMilliseconds},isExplicit:(null===(i=l.contentRating)||void 0===i?void 0:i.label)===V.A7.Explicit,release:(0,ka.w3)(l.releaseDate),description:l.description||"",timeLeft:{milliseconds:l.playedState.state===V.QF.Completed?0:l.duration.totalMilliseconds-l.playedState.playPositionMilliseconds},is19PlusOnly:(null===(r=l.contentRating)||void 0===r?void 0:r.label)===V.A7.NineteenPlus,show:c,requestId:t,color:(0,Ca.y_)(null===(n=l.coverArt)||void 0===n?void 0:n.extractedColors),mediaType:l.mediaTypes??[],podcastSubscription:(0,ka.w7)(l.restrictions,l.playability)}}const _a={...Aa,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0,isLocked:!1};function Na(e,t){return e.map((e=>function(e,t){var s;if("Episode"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;let a=_a;"Podcast"===e.data.podcastV2.data.__typename&&(a=(0,fa.U9)(e.data.podcastV2.data));return{requestId:t,episode:(0,fa.mc)(e.data),show:a}}(e,t))).filter(ba.g)}async function Ta(e,t){var s;const a=await e(ja,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.episodes;return i?function(e,t){return{items:Na((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}(i,va(null==a?void 0:a.extensions)):null}const Pa=new xa.a("searchDesktop","query","5e360fd8ecc91d7a2aa8ab520bad903cc67f864a9df86b579cf51a53c9589b7f",null);function Fa(e,t){var s,a,i;if("PreRelease"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const r=e.data.preReleaseContent;if(!r)return null;const n=(0,ka.w3)(e.data.releaseDate),l=r.artists.items.map((e=>"Artist"===e.data.__typename?{type:W.s.ARTIST,name:e.data.profile.name,uri:e.data.uri}:null)).filter(ba.g);return{type:W.s.PRE_RELEASE,name:r.name||"",uri:e.data.uri,images:Sa((null===(a=r.coverArt)||void 0===a?void 0:a.sources)||[]),release:n,releaseTimezone:e.data.timezone,artists:l,color:(0,Ca.y_)(null===(i=r.coverArt)||void 0===i?void 0:i.extractedColors),requestId:t}}function Ua(e,t){return{items:((null==e?void 0:e.items)||[]).map((e=>{const{__typename:s}=e;switch(s){case"AlbumResponseWrapper":return La(e,t);case"PreReleaseResponseWrapper":return Fa(e,t);case"UnknownTypeWrapper":return null;default:return(0,ge.I)(s),null}})).filter(ba.g),totalCount:(null==e?void 0:e.totalCount)||0}}function La(e,t){var s,a,i;if("Album"!==e.data.__typename)return null;const r=e.data;return{type:W.s.ALBUM,name:r.name,uri:r.uri,images:Sa((null===(s=r.coverArt)||void 0===s?void 0:s.sources)||[]),artists:r.artists.items.map((e=>({type:W.s.ARTIST,name:e.profile.name,uri:e.uri}))),year:null===(a=r.date)||void 0===a?void 0:a.year,requestId:t,color:(0,Ca.y_)(null===(i=e.data.coverArt)||void 0===i?void 0:i.extractedColors)}}const qa=new xa.a("searchAlbums","query","4ddf4d062c3c268954bb113ca2a24c6440e8c832170185388a087ca8608c727c",null);function Ma(e,t){return{items:Da((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Da(e,t){return e.map((e=>Oa(e,t))).filter(ba.g)}function Oa(e,t){var s,a,i;if("Artist"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const r=e.data;return{type:W.s.ARTIST,name:r.profile.name,images:Sa((null===(a=r.visuals)||void 0===a||null===(a=a.avatarImage)||void 0===a?void 0:a.sources)||[]),uri:r.uri,verified:r.profile.verified||!1,requestId:t,color:(0,Ca.y_)(null===(i=r.visuals.avatarImage)||void 0===i?void 0:i.extractedColors)}}const Ba=new xa.a("searchArtists","query","e07f4daeae2c35880f043847d4fda640517737eb66cf5f203c9e3deb93206977",null);function Ha(e,t){return{items:Va((null==e?void 0:e.items)||[],t),totalCount:null==e?void 0:e.totalCount}}function Va(e,t){return e.map((e=>Wa(e,t))).filter(ba.g)}function Wa(e,t){var s,a,i,r,n;if("Audiobook"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const l=e.data;return{type:W.s.AUDIOBOOK,uri:l.uri,name:l.name,images:Sa((null===(a=l.coverArt)||void 0===a?void 0:a.sources)||[]),authorName:(null===(i=l.authors)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.name)??"",topics:l.topics.items||[],publishDate:l.publishDate?new Date(l.publishDate.isoString):null,requestId:t,color:(0,Ca.y_)(null===(r=l.coverArt)||void 0===r?void 0:r.extractedColors),signifierText:(null===(n=l.accessInfo)||void 0===n||null===(n=n.signifier)||void 0===n?void 0:n.text)??void 0}}const Qa=new xa.a("searchAudiobooks","query","7260cfdd59ba4f5588502dafd25def5164c6841c68a26bb60d9c75ba47bf29b4",null);const Ga=new xa.a("searchEpisodes","query","6c94e7db591c68ff6244234e1b2378b3eb6a1f5c1999b711a7bd12b9708f6322",null);function Ka(e,t){return{items:za((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function za(e,t){return e.map((e=>Xa(e,t))).filter(ba.g)}function Xa(e,t){var s,a,i;if("Genre"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const r=e.data,n=(0,ae.nX)(r.uri);return{type:W.s.GENRE,name:r.name,uri:n?r.uri:`spotify:genre:${r.uri}`,images:Sa((null===(a=r.image)||void 0===a?void 0:a.sources)||[]),requestId:t,color:(0,Ca.y_)(null===(i=r.image)||void 0===i?void 0:i.extractedColors)}}const Ya=new xa.a("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);s(35272);const $a={type:W.s.USER,uri:"",displayName:"",username:"",images:[]};function Ja(e,t){return{items:Za((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function Za(e,t){return e.map((e=>ei(e,t))).filter(ba.g)}function ei(e,t){var s,a,i,r;if("Playlist"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const n=e.data;let l=$a;if("User"===(null===(a=n.ownerV2)||void 0===a?void 0:a.data.__typename)){var o,c;const e=null===(o=n.ownerV2)||void 0===o?void 0:o.data;l={type:W.s.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:Sa((null===(c=e.avatar)||void 0===c?void 0:c.sources)||[])}}return{type:W.s.PLAYLIST,uri:n.uri,name:n.name,images:Sa((null===(i=n.images)||void 0===i?void 0:i.items.flatMap((e=>e.sources)))||[]),owner:l,requestId:t,formatListData:{type:n.format??"",attributes:(u=n.attributes??[],u.reduce(((e,t)=>(e[t.key]=t.value,e)),{}))},color:(0,Ca.y_)(null===(r=n.images.items[0])||void 0===r?void 0:r.extractedColors)};var u}const ti=new xa.a("searchPlaylists","query","fc3a690182167dbad20ac7a03f842b97be4e9737710600874cb903f30112ad58",null);function si(e,t){return{items:ai((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function ai(e,t){return e.map((e=>ii(e,t))).filter(ba.g)}function ii(e,t){var s,a,i,r;if("Podcast"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const n=e.data;return{type:W.s.SHOW,uri:n.uri,name:n.name,images:Sa((null===(a=n.coverArt)||void 0===a?void 0:a.sources)||[]),publisher:(null===(i=n.publisher)||void 0===i?void 0:i.name)||"",topics:n.topics.items||[],requestId:t,color:(0,Ca.y_)(null===(r=n.coverArt)||void 0===r?void 0:r.extractedColors)}}const ri=new xa.a("searchPodcasts","query","cbd33edc7a612454640d753caff6fb1074a7868843612d257dcef5e71e837dd9",null);function ni(e,t){return{items:li(e,t),totalCount:(null==e?void 0:e.totalCount)||0}}function li(e,t){return(null==e?void 0:e.items.map((e=>{let{item:s,matchedFields:a}=e;return oi(s,a,t)})).filter(ba.g))||[]}function oi(e,t,s){var a,i,r,n,l;if("Track"!==(null===(a=e.data)||void 0===a?void 0:a.__typename))return null;const o=e.data,c=o.albumOfTrack,u=!!o.associations&&o.associations.associatedVideos.totalCount>0;return{type:W.s.TRACK,uri:o.uri,name:o.name,isPlayable:o.playability.playable,album:{type:W.s.ALBUM,uri:(null==c?void 0:c.uri)||"",name:(null==c?void 0:c.name)||"",images:Sa((null==c||null===(i=c.coverArt)||void 0===i?void 0:i.sources)||[])},artists:o.artists.items.map((e=>({type:W.s.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:o.duration.totalMilliseconds},hasAssociatedVideo:u,isExplicit:"EXPLICIT"===(null===(r=o.contentRating)||void 0===r?void 0:r.label),is19PlusOnly:"NINETEEN_PLUS"===(null===(n=o.contentRating)||void 0===n?void 0:n.label),requestId:s,isLyricsMatch:!(null==t||!t.includes(V.a6.Lyrics)),color:(0,Ca.y_)(null==c||null===(l=c.coverArt)||void 0===l?void 0:l.extractedColors)}}const ci=new xa.a("searchTracks","query","875aaad13da3b8cebc0951584343999525b242d3a6a45caf33423bbf6f027af3",null);function ui(e,t){return{items:di((null==e?void 0:e.items)||[],t),totalCount:(null==e?void 0:e.totalCount)||0}}function di(e,t){return e.map((e=>pi(e,t))).filter(ba.g)}function pi(e,t){var s,a,i;if("User"!==(null===(s=e.data)||void 0===s?void 0:s.__typename))return null;const r=e.data;return{type:W.s.USER,uri:r.uri,name:r.displayName||r.username,images:Sa((null===(a=r.avatar)||void 0===a?void 0:a.sources)??[]),requestId:t,color:(0,Ca.y_)(null===(i=r.avatar)||void 0===i?void 0:i.extractedColors)}}const mi=new xa.a("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);function hi(e,t){const s=(null==e?void 0:e.itemsV2)??[],a=s.map((e=>{let{item:s,matchedFields:a}=e;const{__typename:i}=s;switch(i){case"AlbumResponseWrapper":return La(s,t);case"ArtistResponseWrapper":return Oa(s,t);case"AudiobookResponseWrapper":return Wa(s,t);case"EpisodeResponseWrapper":return Ea(s,t);case"GenreResponseWrapper":return Xa(s,t);case"PlaylistResponseWrapper":return ei(s,t);case"PodcastResponseWrapper":return ii(s,t);case"TrackResponseWrapper":return oi(s,a,t);case"UserResponseWrapper":return pi(s,t);case"PreReleaseResponseWrapper":return Fa(s,t);case"UnknownTypeWrapper":return null;default:return(0,ge.I)(i),null}})).filter(ba.g);return{totalCount:s.length,items:a}}function yi(e,t){const s=(null==e?void 0:e.featured)||[];return{artistName:s.length?vi(e):"",items:(null==s?void 0:s.map((e=>ei(e,t))).filter(ba.g))||[],totalCount:s.length||0}}function vi(e){const t=(0,ka.Dj)(e,"itemsV2",[]);try{var s;const e=(0,ka._M)(t.map((e=>{let{item:t}=e;return t})).filter(Boolean),"0.data");return(null==e||null===(s=e.profile)||void 0===s?void 0:s.name)||""}catch{return""}}const gi=new xa.a("searchTopResultsOnly","query","08cb2e4ea426d1ed10bef76b7d65cee91a82156d962a4aad0936a9720842e58d",null);const xi={items:[],totalCount:0},ji={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},fi={albums:async function(e,t){var s;const a=await e(qa,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.albumsV2;return i?Ua(i,va(null==a?void 0:a.extensions)):null},artists:async function(e,t){var s;const a=await e(Ba,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.artists;return i?Ma(i,va(null==a?void 0:a.extensions)):null},episodes:async function(e,t){var s;const a=await e(Ga,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.episodes;return i?wa(i,va(null==a?void 0:a.extensions)):null},genres:async function(e,t){var s;const a=await e(Ya,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.genres;return i?Ka(i,va(null==a?void 0:a.extensions)):null},playlists:async function(e,t){var s;const a=await e(ti,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.playlists;return i?Ja(i,va(null==a?void 0:a.extensions)):null},podcasts:async function(e,t){var s;const a=await e(ri,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.podcasts;return i?si(i,va(null==a?void 0:a.extensions)):null},audiobooks:async function(e,t){var s;const a=await e(Qa,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.audiobooks;return i?Ha(i,va(null==a?void 0:a.extensions)):null},tracks:async function(e,t){var s;const a=await e(ci,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.tracksV2;return i?ni(i,va(null==a?void 0:a.extensions)):null},users:async function(e,t){var s;const a=await e(mi,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.users;return i?ui(i,va(null==a?void 0:a.extensions)):null},topResults:async function(e,t){var s;const a=await e(gi,t),i=null==a||null===(s=a.data)||void 0===s||null===(s=s.searchV2)||void 0===s?void 0:s.topResultsV2;return i?hi(i,ga(null==a?void 0:a.extensions)):null},podcastAndEpisodes:Ta};class bi{constructor(e){this._request=e}async getSearchResults(e){var t;const s={searchTerm:e,offset:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,limit:arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,numberOfTopResults:arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,includeAudiobooks:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]},a=await this._request(Pa,s),i=null==a||null===(t=a.data)||void 0===t?void 0:t.searchV2;if(!i)return ji;const r=va(null==a?void 0:a.extensions),n=ga(null==a?void 0:a.extensions);return{albums:Ua(i.albumsV2,r),artists:Ma(i.artists,r),episodes:wa(i.episodes,r),genres:Ka(i.genres,r),playlists:Ja(i.playlists,r),podcasts:si(i.podcasts,r),audiobooks:Ha(i.audiobooks??null,r),tracks:ni(i.tracksV2,r),users:ui(i.users,r),topResults:hi(i.topResultsV2,n),topRecommendations:yi(i.topResultsV2,n),chipOrder:i.chipOrder}}async getSearchCategoryResults(e,t){const s={searchTerm:e,offset:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,limit:arguments.length>4&&void 0!==arguments[4]?arguments[4]:25,numberOfTopResults:arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,includeAudiobooks:arguments.length>2&&void 0!==arguments[2]&&arguments[2]},a=fi[t];return await a(this._request,s)||xi}async getFullEpisodes(e){const t={searchTerm:e,offset:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,limit:arguments.length>2&&void 0!==arguments[2]?arguments[2]:25};return await Ta(this._request,t)||xi}}var Ci=s(2568),ki=s(21464);const Ri=e=>{let{results:t,hasResults:s}=e;const i=(0,u.IP)(T.OMw),o=(0,ws.u)(),{isBrowser:c}=(0,n.w1)((e=>e.platform)),p=(0,n.w1)(ha.SS),h=(0,pa.A)(),y=(0,m.mg)(),{version:v}=(0,m.eq)(),{category:g}=N(),x=((e,t,s)=>{var a;const i=(null==e||null===(a=e.chipOrder)||void 0===a?void 0:a.items)??[];return Array.from(i.reduce(((a,i)=>{var r;if(!i.typeName)return a;if(!s&&i.typeName===V.Q3.TopResults)return a;const[n,l]=G[i.typeName];return l&&n&&(t===l||null!=e&&null!==(r=e[n])&&void 0!==r&&null!==(r=r.items)&&void 0!==r&&r.length)?(a.add(l),a):a}),new Set([])))})(t,g,i),f="podcasts"!==g&&"episodes"!==g,C=i?x[0]:void 0,k=(e=>{if(!e)return!1;const[t]=e.topResults.items;return Boolean(t&&t.type===W.s.TRACK)})(t),S=(0,u.IP)(T.qaN);return(0,a.useEffect)((()=>{c||t&&s&&(e=>{let{eventSender:t,country:s,isAnonymous:a,context:i,variant:r}=e;const n={category:"internal-search-test",action:"search-results-page-visit",variant:r,label:"desktop-app",context:i,os:(0,Q.k)(),country:s,spt:(0,H.Ij)("sp_t")};a?t.send((0,B.O)(n)):t.send((0,O.E)(n))})({eventSender:y,country:p,isAnonymous:h,context:JSON.stringify({top_result_is_track:k,version:v}),variant:S})}),[p,y,s,h,c,t,k,S,v]),(0,b.jsxs)(j.oL,{value:"search-page",children:[!o&&(0,b.jsx)(da.J,{children:(0,b.jsx)(Ds.o,{isSearchChipsEnabled:!0})}),(0,b.jsx)(D,{searchCategories:x,selectedCategory:g??C,displayChips:f}),(0,b.jsx)("div",{className:r()("contentSpacing",{[ki.c.narrowPage]:i&&t}),id:"searchPage",children:(0,b.jsx)(z.C,{className:ki.c.searchPageGrid,render:()=>(0,b.jsxs)(l.c5,{children:[(0,b.jsx)(l.kX,{path:"/",element:(0,b.jsx)($.I,{pageId:d.eA.FIND,entityUri:"spotify:app:search",children:(0,b.jsx)(R,{})})}),(0,b.jsx)(l.kX,{path:":query",element:(0,b.jsx)(ee,{children:(0,b.jsx)(ca,{results:t,hasResults:s,category:C})})}),(0,b.jsx)(l.kX,{path:":query/:category",element:(0,b.jsx)(Z,{children:(0,b.jsx)(Ms,{results:t,hasResults:s,displayChips:f})})})]})})})]})};const Si=a.memo((function(){const e=(0,u.IP)(T.OMw),t=!(0,K.O)(),[{category:s,query:i},r]=(0,Ci.k)();(0,ma.o)("search");const[n,l]=(0,a.useState)({results:null,queryForResults:i??""}),o=n.results,d=function(e){return null!==e&&void 0!==Object.keys(e).find((t=>"chipOrder"!==t&&e[t].items.length>0))}(o),m=(0,a.useMemo)((()=>new bi((0,Y.Gm)(X.W.getInstance()))),[]),{searchHistory:h,setSearchHistory:y}=(0,f.y)(),v=(0,a.useCallback)((e=>{y([e,...h])}),[h,y]),g=(0,a.useCallback)((async e=>{e===n.queryForResults&&d||r(e,s,!1)}),[n.queryForResults,s,d,r]);(0,a.useEffect)((()=>{(async()=>{if(!i)return;if(t)return void l({results:null,queryForResults:i});const s=e?20:5,a=await m.getSearchResults(i,!0,0,10,s);l({results:a,queryForResults:i})})()}),[i,m,e,t]),(0,a.useEffect)((()=>{i||l({results:null,queryForResults:""})}),[i]);const x=(0,a.useMemo)((()=>c().create().toString()),[s,n.queryForResults]),j=(0,a.useMemo)((()=>({api:m,category:s,query:n.queryForResults,onAddToHistory:v,onSearchRequest:g,serpId:x})),[m,s,v,g,n.queryForResults,x]);return(0,b.jsxs)(_,{value:j,children:[(0,b.jsx)(ua.Q,{children:p._s.get("search.page-title")}),(0,b.jsx)(Ri,{results:o,hasResults:d})]})}))},39244:(e,t,s)=>{s.d(t,{e:()=>y});var a=s(96651),i=s(49232),r=s(7296);s(76376),s(73952),s(97296);const n=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,t){return e.filter((e=>e.label?e.label===t:e.width?n(e.width)===t:!!e.height&&n(e.height)===t))[0]}var o=s(98399);var c=s(86852);function u(e){var t,s,a,i,r,n,o,c;const u=l(e,"standard"),d=l(e,"large"),p=l(e,"small"),m=l(e,"xlarge");return{image_url:null==u?void 0:u.url,image_height:null==u||null===(t=u.height)||void 0===t?void 0:t.toString(),image_width:null==u||null===(s=u.width)||void 0===s?void 0:s.toString(),image_url_large:null==d?void 0:d.url,image_height_large:null==d||null===(a=d.height)||void 0===a?void 0:a.toString(),image_width_large:null==d||null===(i=d.width)||void 0===i?void 0:i.toString(),image_url_small:null==p?void 0:p.url,image_height_small:null==p||null===(r=p.height)||void 0===r?void 0:r.toString(),image_width_small:null==p||null===(n=p.width)||void 0===n?void 0:n.toString(),image_url_xlarge:null==m?void 0:m.url,image_height_xlarge:null==m||null===(o=m.height)||void 0===o?void 0:o.toString(),image_width_xlarge:null==m||null===(c=m.width)||void 0===c?void 0:c.toString()}}var d=s(6912),p=s(94192),m=s(43619),h=s(15040);function y(e,t){const s=(0,r.w)(),n=(0,d.Q)(),{isPlaying:l,isActive:y}=(0,p.Cu)((null==e?void 0:e.uri)||""),{isActive:v}=(0,p.kP)((null==t?void 0:t.uri)||""),g=(0,i.IP)(h.eo7),x=(0,a.useCallback)((a=>{if(!t||!e)return;const i=function(e,t){var s;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=((null===(s=e.coverArt)||void 0===s?void 0:s.sources)||[]).sort(((e,t)=>(t.width||0)-(e.width||0))),r=(0,o.ev)(e,t),n=(0,o.Mb)(t)||r,l=e.mediaTypes&&e.mediaTypes.includes(c.iM.Video)?"video":"audio";return{uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name,...u(i),media_type:a?l:"audio",isTrailer:r,anonymousPlaybackAllowed:n}}(e,t,g);v&&!l&&y&&!a?n.resume():v&&l&&!a?(s({type:"click",intent:"pause",targetUri:e.uri}),n.pause()):(s({type:"click",intent:"play",targetUri:e.uri}),n.play({uri:t.uri,pages:[{items:[{type:m.s.EPISODE,uri:e.uri,uid:null,metadata:i,provider:null}]}]},{referrerIdentifier:n.getReferrer(),featureIdentifier:"episode"},a))}),[t,e,g,v,l,y,n,s]);return x}},39188:(e,t,s)=>{s.d(t,{a:()=>a});const a=e=>{var t;return(null==e||null===(t=e.linked_from)||void 0===t?void 0:t.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-search.fe5ab4e1.js.map