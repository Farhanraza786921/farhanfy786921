"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[624],{86572:(e,t,s)=>{s.d(t,{q:()=>i});s(96651),s(2488);const i=e=>null},63472:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>Le,SKELETON_SHELVES_COUNT:()=>He,default:()=>Te});s(10216),s(23784),s(41260),s(93244),s(88680),s(73800);var i=s(96651),n=s(10124),a=s.n(n),r=s(65856),o=s(33220),l=s(49232),c=s(30312),d=s(12100),p=s(12980),m=s(97800),u=s(64448),g=s(10484),h=s(10156),x=s(87668),v=s(62692),j=s(40636),y=s(61708),f=s(41264),S=s(768),b=s(92280),w=s(15040),_=s(82320),D=s(90464),k=s(31168),C=s(7896),I=s(93620),N=s(53048),M=s(28892);const P="AaXwi9LLckdsxNwrosnQ",H="yX31EzBkHzNooefkSvT3",L="EjJHF7tjFYigQK8pIVbV",F="Z5xLXZofWXGooKRjW6kd",A="kM546dTx5cxDNH530zm8",T="mnhJCpUiriAb7Ay3HOTz",K="rRldspwHsrgo8DsecR2Q";var E=s(2488);const O=e=>{let{isMWP:t}=e;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${F} ${A}`,"aria-hidden":"true",children:[(0,E.jsx)("source",{src:(0,I.K)(`videos/Sw23-${t?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,E.jsx)("source",{src:(0,I.K)(`videos/Sw23-${t?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,E.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${F} ${T}`,"aria-hidden":"true",children:[(0,E.jsx)("source",{src:(0,I.K)(`videos/Sw23-${t?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,E.jsx)("source",{src:(0,I.K)(`videos/Sw23-${t?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]})},R=e=>{let{isMWP:t}=e;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("picture",{children:[(0,E.jsx)("source",{srcSet:(0,I.K)(`images/Sw23-${t?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,E.jsx)("source",{srcSet:(0,I.K)(`images/Sw23-${t?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,E.jsx)("img",{className:`${F} ${A}`,src:"",alt:""})]}),(0,E.jsxs)("picture",{children:[(0,E.jsx)("source",{srcSet:(0,I.K)(`images/Sw23-${t?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,E.jsx)("source",{srcSet:(0,I.K)(`images/Sw23-${t?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,E.jsx)("img",{className:`${F} ${T}`,src:"",alt:""})]})]})},W=(0,i.forwardRef)(((e,t)=>{let{linkUri:s,loggedIn:i,isMWP:n,isStatic:r=!1,onClick:o}=e;const l=(0,N.oV)(),c=(0,M.C)();return(0,E.jsx)("div",{className:P,ref:t,children:(0,E.jsxs)("div",{className:(0,_.O8)("invertedLight",a()(H,{[L]:n})),children:[r||c?(0,E.jsx)(R,{isMWP:n}):(0,E.jsx)(O,{isMWP:n}),(0,E.jsx)(D.F,{as:"h2",variant:"brio",semanticColor:"textBase",className:K,children:i?d._s.get("shared.wrapped-banner.title"):d._s.get("shared.wrapped-banner.title-loggedout")}),(0,E.jsx)(D.F,{as:"p",variant:l===N.u_.SMALL||n?"mesto":"ballad",semanticColor:"textBase",children:i?d._s.get("shared.wrapped-banner.body"):d._s.get("shared.wrapped-banner.body-loggedout")}),(0,E.jsx)(k.g,{colorSet:"invertedDark",iconTrailing:C.E,href:s,target:"_blank",size:l===N.u_.SMALL||n?"small":"medium",onClick:o,children:d._s.get("shared.wrapped-banner.button")})]})})}));var $=s(27892);const U=()=>{const e=(0,b.A)(),t=(0,l.IP)(w.Kob),{openURLWithSessionTransfer:s}=(0,$.W)(),{spec:n,logger:a}=(0,j.gp)(S.W,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,i.useMemo)((()=>n.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[n]),o=(0,j.K2)(r),c="https://spotify.com/wrapped",d=(0,i.useCallback)((e=>{a.logInteraction(r.hitUiNavigate({destination:c})),s(c),e.preventDefault()}),[a,s,r]);return(0,E.jsx)(W,{linkUri:c,loggedIn:!e,onClick:d,ref:o,isStatic:t})};s(73952),s(97768);var z=s(54504);const J=JSON.parse('{"data":{"__typename":"HomeLearningSectionData","title":{"text":"Introducing"}},"sectionItems":{"items":[{"title":"Video Courses","description":"Learn from the best online creators.Try everything, for free."}],"totalCount":1}}');var V=s(8004),q=s(71992),B=s(59148);const Y="https://learning.spotify.net",Z="dnyg39bzenKDCjizwMzt",Q="wQraCJRwv242wm4StxJc",X="ZRShtgAZLMUHmCZ3kelw",G="fodeOTunaw7uLX6oRbLw",ee="CVo6IW1mq3srWy9YZrAk",te="IbWcT9VDY62fMGWKyVRg",se="Dfqze5PoXWjDFglzjSTo",ie="KBC0QaBWPGFHcOPnXlFA",ne=["Learn from the best online creators.","Try everything, for free."],ae=e=>{let{index:t}=e;const{spec:s,logger:n,UBIFragment:a}=(0,j.gp)(q.q,{data:{uri:"spotify:app:learning",position:t,reason:""}}),r=(0,i.useCallback)((()=>{const e=s.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:Y});n.logInteraction(e)}),[n,s]);return(0,E.jsx)(a,{spec:s,children:(0,E.jsx)("div",{className:Z,tabIndex:0,role:"button",onClick:()=>{r(),window.open(Y,"_blank","noopener")},children:(0,E.jsxs)("div",{className:Q,children:[(0,E.jsxs)("div",{className:X,children:[(0,E.jsx)("div",{className:ee,children:(0,E.jsx)(V.a,{variant:"titleMedium",semanticColor:"textBase",children:"Video Courses"})}),(0,E.jsx)(V.a,{variant:"bodySmall",className:te,children:ne[0]}),(0,E.jsx)(V.a,{variant:"bodySmall",className:te,children:ne[1]})]}),(0,E.jsx)("div",{className:G,children:(0,E.jsx)(k.g,{as:"a",size:"small",href:Y,target:"_blank",colorSet:"invertedLight",iconTrailing:B.K,onClick:e=>{r(),e.stopPropagation()},children:(0,E.jsx)(V.a,{variant:"bodySmallBold",children:"Discover Courses"})})}),(0,E.jsx)("div",{className:se}),(0,E.jsx)("div",{className:ie})]})})})};var re=s(33584),oe=s(83088);const le="zecaxp9A6ET66ZYuMSLr",ce="CNmffmOxA0meXLgIZ2P4",de=e=>{let{spec:t,index:s,shelfTitle:n,isDjRendered:a}=e;const r=(0,i.useCallback)((e=>e<=3?e:4!==e||a?4===e&&a?3:5!==e||a?5===e&&a?2:a?Math.min(4,e-3):4:3:2),[a]);return(0,E.jsx)(j.Ud,{spec:t.shelvesFactory(),children:(0,E.jsxs)(oe.G,{getSpanColumns:r,className:le,children:[(0,E.jsx)("div",{className:ce,children:(0,E.jsx)(re.q,{title:n})}),(0,E.jsx)(ae,{index:s})]})})},pe=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var me=s(85708),ue=s(53344),ge=s(52276),he=(s(97296),s(91372),s(90496)),xe=s(54088);const ve=e=>{var t;let{spec:s,section:n,index:a}=e;return(0,i.useMemo)((()=>n.sectionItems.items.some((e=>(0,xe.M)(e.content)))),[n.sectionItems])?(0,E.jsx)(j.Ud,{spec:s.shelvesFactory(),children:(0,E.jsx)(he.c,{total:n.sectionItems.totalCount,seeAllUri:n.uri,pageId:n.uri,title:(null===(t=n.data.title)||void 0===t?void 0:t.text)??"",index:a,id:n.uri,children:n.sectionItems.items.map(xe.u).filter((e=>!!e))})}):null};var je=s(26121);const ye=e=>{var t;let{spec:s,section:i,index:n}=e;return(0,E.jsx)(j.Ud,{spec:s.shelvesFactory(),children:(0,E.jsx)(je.default,{title:(null===(t=i.data.title)||void 0===t?void 0:t.text)??void 0,showAll:!1,index:n})})};var fe=s(75020),Se=s(86572),be=s(72544);const we=e=>{var t;let{spec:s,greeting:i,section:n,index:a}=e;const r=(0,ue.aw)();switch(null===(t=n.data)||void 0===t?void 0:t.__typename){case"HomeGenericSectionData":return(0,E.jsx)(ve,{spec:s,section:(0,be.g)(n,n.data),index:a});case"HomeShortsSectionData":return(0,E.jsx)(fe.O,{spec:s,greeting:i,section:(0,be.g)(n,n.data)});case"HomeRecentlyPlayedSectionData":return(0,E.jsx)(ye,{spec:s,section:(0,be.g)(n,n.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,be.g)(n,n.data),{data:t,sectionItems:s}=e,i=s.items[0];if(r(n,n.data)&&"PlaylistResponseWrapper"===i.content.__typename&&"Playlist"===i.content.data.__typename){var o;const{data:e}=i.content;return(0,E.jsx)(ue.UF,{uri:ue.mO,shelfTitle:(null===(o=t.title)||void 0===o?void 0:o.text)??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,E.jsx)(Se.q,{sectionItems:n.sectionItems.items,uri:n.uri,localStorageKey:n.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,ge.I)(n.data),null}};const _e=e=>{let{spec:t,greeting:s,container:n}=e;const{spec:a,logger:r}=(0,j.gp)(z.createDesktopHomeFeatureActivationShelfEventFactory,{}),o=(0,l.IP)(w.w9z,{loadingValue:!1}),c=(0,l.IP)(w.maj,{loadingValue:!1}),d=(0,i.useMemo)((()=>((e,t,s)=>{const i=[];s&&i.push(J),t&&i.push(pe);let n=[];return n=function(e){var t;const s=e.sections.items;return s.length>0&&"HomeShortsSectionData"===(null===(t=s[0].data)||void 0===t?void 0:t.__typename)}(e)?[e.sections.items[0],...i,...e.sections.items.slice(1)]:[...i,...e.sections.items],n.map((e=>{var t;return"HomeLearningSectionData"===(null===(t=e.data)||void 0===t?void 0:t.__typename)?{localOverride:!0,item:e}:{localOverride:!1,item:e}}))})(n,o,c)),[n,o,c]),p=(0,ue.aw)();return(0,i.useEffect)((()=>{(0,me.G$)()&&r.logImpression(a.impressionElementFactory().impression())}),[a,r]),(0,E.jsx)(E.Fragment,{children:d.map(((e,i)=>{if(e.localOverride){const s=e.item,n=null==s?void 0:s.sectionItems.items[0];if(!s||!n)return null;const a=d.find((e=>{var t;return"HomeYourDJSectionData"===(null===(t=e.item.data)||void 0===t?void 0:t.__typename)}));let r=!1;if(a){const e=a.item;r=p(e,e.data)}return(0,E.jsx)(de,{spec:t,index:i,isDjRendered:r,shelfTitle:s.data.title.text},`${i}-${n.title}`)}return(0,E.jsx)(we,{spec:t,greeting:s,section:e.item,index:i},`${i}-${e.item.uri}`)}))})};var De=s(1220),ke=s(47824),Ce=s(99640),Ie=s(68384),Ne=s(43052);const Me=()=>(0,l.IP)(w.i0e)===w._gx.ONHOME?(0,E.jsx)(Ne.J,{children:(0,E.jsx)(Ie.o,{onSearch:!1})}):null;var Pe=s(98488);const He=6,Le=6,Fe=(0,i.memo)((e=>{let{shelfCount:t,cardCount:s}=e;return(0,E.jsx)("section",{"data-testid":"home-page",children:(0,E.jsx)("div",{className:Pe.c.home,children:(0,E.jsxs)("div",{className:a()(Pe.c.content,"contentSpacing"),children:[(0,E.jsx)(m.i,{withTitle:!1}),[...new Array(t).keys()].map(((e,t)=>(0,E.jsx)(De.w,{withTitle:!0,cardCount:s},t)))]})})})})),Ae=e=>{var t;let{spec:s}=e;(0,g.o)("home");const i=(0,r.w1)(Ce.SS),n=(0,o.IT)(),c=new URLSearchParams(n.search).get("pCountry"),{subfeedId:p=null}=(0,o.W4)(),{data:m,error:v,fetching:j}=(0,y.kP)({timeZone:(0,f.NJ)(),sp_t:(0,h.Ij)("sp_t")??"",country:c??i,facet:p},{gcTime:f.QR,staleTime:f.AD}),S=(0,l.IP)(w.OyH),b=(0,l.IP)(w.Kob),_=S||b;if(j)return(0,E.jsx)(Fe,{shelfCount:He,cardCount:Le});if(null!==v)return(0,E.jsx)(u.K,{hasError:!0,errorMessage:d._s.get("error.generic")});const D=null==m?void 0:m.home;return"HomeResponsePayload"!==(null==D?void 0:D.__typename)?(0,E.jsx)(u.K,{hasError:!0,errorMessage:d._s.get("error.generic")}):0===D.sectionContainer.sections.totalCount||0===D.sectionContainer.sections.items.length?((0,x.gh)(new Error("Empty response from pathfinder"),"Home"),(0,E.jsx)(u.K,{hasError:!0,errorMessage:d._s.get("error.generic")})):(0,E.jsx)("section",{"data-testid":"home-page",children:(0,E.jsx)("div",{className:Pe.c.home,children:(0,E.jsxs)("div",{className:a()(Pe.c.content,"contentSpacing"),children:[_&&(0,E.jsx)(U,{}),(0,E.jsx)(_e,{spec:s,greeting:(null===(t=D.greeting)||void 0===t?void 0:t.text)??null,container:D.sectionContainer})]})})})},Te=()=>{const{spec:e}=(0,j.gp)(c.C,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,ke.W)({type:"locale",uri:"home"});return(0,E.jsxs)(j.Ud,{spec:e,children:[(0,E.jsx)(p.Q,{children:(0,v.WI)({i18n:d._s,shouldLocalize:t})}),(0,E.jsx)(i.Suspense,{fallback:null,children:(0,E.jsx)(Me,{})}),(0,E.jsx)(Ae,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.70632833.js.map